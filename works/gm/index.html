<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>Google マップ - Works - Lopan café</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="Lopan caféはLopan.jpがよく使うパターン集。レイアウトとUIとエフェクトとコンポーネント、例えばアーカイブ一覧やモーダルやタブやアコーディオン。">
<meta property="og:site_name" content="Lopan café">
<meta property="og:type" content="website">
<meta property="og:title" content="Google マップ">
<meta property="og:description" content="Lopan caféはLopan.jpがよく使うパターン集。レイアウトとUIとエフェクトとコンポーネント、例えばアーカイブ一覧やモーダルやタブやアコーディオン。">
<meta property="og:url" content="https://lopan.cafe/component/">
<meta property="og:image" content="https://lopan.cafe/component/ogp.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@_watercolor">
<meta name="theme-color" content="#86c0de">
<meta name="msapplication-navbutton-color" content="#86c0de">
<link rel="icon" href="../../assets/icon.png">
<link rel="apple-touch-icon" href="../../assets/apple-touch-icon.png">
<link rel="stylesheet" href="../../assets/css/common.css">
<link rel="stylesheet" href="../../assets/css/article.css">
<link rel="stylesheet" href="../../assets/css/component.css">
<link rel="stylesheet" href="../css/style.css">
<script src="../../assets/js/script.js" type="module" crossorigin="anonymous" defer></script>
</head>
<body>
<header class="l-header">
	<h1 class="logo"><a href="https://lopan.cafe/component/"><svg width="40" height="37" viewBox="0 0 40 37" class="pan" fill="none"><title>Lopan.jp</title><use href="#panchan"/></svg></a></h1>
	<ul class="menu -nav">
		<li><a href="../../about/">About</a></li>
		<li><a href="../../news/">News</a></li>
		<li><a href="../">Works</a></li>
		<li><a href="../../company/">Company</a></li>
		<li><a href="../../contact/">Contact</a></li>
	</ul>
	<ul class="menu -sns">
		<li><a href="https://www.instagram.com/lopan.jp/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#instagram"/></svg></a></li>
		<li><a href="https://twitter.com/_watercolor" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#twitter"/></svg></a></li>
	</ul>
</header>

<button type="button" class="l-drawer js-menuToggle"><svg width="32" height="5" viewBox="0 0 32 5" class="bar -b1"><path d="M0,2.5H32"/></svg><svg width="32" height="5" viewBox="0 0 32 5" class="bar -b2"><path d="M0,2.5H32"/></svg><svg width="32" height="5" viewBox="0 0 32 5" class="bar -b3"><path d="M0,2.5H32"/></svg></button>
<nav class="l-menu">
	<div class="overlay js-menuToggle"></div>
	<div class="container">
		<h2 class="u-visuallyhidden">ナビゲーション</h2>
		<ul class="menu -nav">
			<li><a href="../../about/">About</a></li>
			<li><a href="../../news/">News</a></li>
			<li><a href="../">Works</a></li>
			<li><a href="../../company/">Company</a></li>
			<li><a href="../../contact/">Contact</a></li>
		</ul>
		<ul class="menu -sns">
			<li><a href="https://www.instagram.com/lopan.jp/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#instagram"/></svg></a></li>
			<li><a href="https://twitter.com/_watercolor" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#twitter"/></svg></a></li>
		</ul>
		<a href="#top" class="pagetop js-anc"><svg width="24" height="24" viewBox="0 0 24 24" preserveAspectRatio="none" class="ico"><path d="M2,18L12,6l10,12" vector-effect="non-scaling-stroke"/></svg></a>
	</div>
</nav>

<main class="l-main page-works">
	<div class="p-visual">
		<h1 class="c-title">Works</h1>
	</div>
	<div class="c-crumb">
		<a href="../../">Home</a>
		<a href="../">Works</a>
		<a href="./" aria-current="page">Google マップ</a>
	</div>
	
	<section class="p-embed l-section">
		<h2 class="c-title -bar">地図を埋め込む</h2>
		<p class="c-lead">Googleの検索結果で「共有」を選択して「地図を埋め込む」の「HTML をコピー」したものをペーストした結果。</p>
		<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3241.5837490032973!2d139.70084081556627!3d35.662625838598835!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188cac05404a1b%3A0xe7e4267bc5d3e90a!2sLopan.jp!5e0!3m2!1sja!2sjp!4v1662125872242!5m2!1sja!2sjp" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" class="p-map"></iframe>
		<figure class="c-syntax -wrap" data-lang="html">
			&lt;iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3241.5837490032973!2d139.70084081556627!3d35.662625838598835!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188cac05404a1b%3A0xe7e4267bc5d3e90a!2sLopan.jp!5e0!3m2!1sja!2sjp!4v1662125872242!5m2!1sja!2sjp" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" class="p-map"&gt;&lt;/iframe&gt;
		</figure>
		<p>コピペした後、要素の最後に<code>class="p-map"</code>を追記して、以下のCSSを適用している。</p>
		<figure class="c-syntax" data-lang="css">
			.p-map {
				width: 100%;
				height: 400px;
				margin-block: 24px;
				border-radius: 8px;
			}
		</figure>
		<figure class="c-image"><picture>
			<source srcset="img/embed.jpg" type="image/jpeg">
			<source srcset="img/embed.webp" type="image/webp">
			<img src="img/embed.jpg" alt="" width="1512" height="945">
		</picture></figure>
		<p class="u-mt4">「リンクを送信する」の「リンクをコピー」から、Google マップ<small>（アプリ）</small>で閲覧できるURLも得られる。</p>
		<a href="https://goo.gl/maps/m7ge93u5UEcZ9ycg8" class="c-button" rel="noopener">Google マップで見る</a>
		<figure class="c-syntax -wrap" data-lang="html">
			&lt;a href="https://goo.gl/maps/m7ge93u5UEcZ9ycg8" class="c-button" rel="noopener"&gt;Google マップで見る&lt;/a&gt;
		</figure>
		<p>地図を載せたいだけならばこれで十分。ただし、Google のユーザー情報が載るし、見た目のカスタマイズはできない。</p>
	</section>
	
	<section class="p-api l-section">
		<h2 class="c-title -bar">Maps JavaScript API</h2>
		<p class="c-lead">Google Maps JavaScript APIを使ってサイトに地図を生成する方法。</p>
		<p>埋め込みと違い、iframeではなくサイトに直接Google マップを<em>生成</em>している。ここでは、Google マップ上のデフォルトのUIを非表示にして、ズームコントロールだけ表示している。</p>
		<div class="p-map js-gm" data-gm="35.6625258,139.7028806,18,Lopan.jp"></div>
		<p>head要素内にscript要素を使って、APIを読み込む。<br>APIを利用するために必要な<strong>API キー</strong>は、<a href="https://console.cloud.google.com/apis/library?hl=ja" class="c-textlink">Google Cloud プラットフォーム</a>にて作成。</p>
		<figure class="c-syntax" data-lang="html">
			&lt;script src="https://maps.googleapis.com/maps/api/js?key={API キー}" defer&gt;&lt;/script&gt;
		</figure>
		<p>地図を表示したい場所に、任意のid属性を付けたdiv要素を設置。</p>
		<figure class="c-syntax" data-lang="html">
			&lt;div id="googlemap" class="p-map"&gt;&lt;/div&gt;
		</figure>
		<p>JavaScriptで<strong>google.maps.Mapクラス</strong>を使ってGoogle マップを生成。オプションの<code>disableDefaultUI: true</code>がデフォルトのUIを非表示にする。</p>
		<figure class="c-syntax" data-lang="js">
			const latlng = { lat: 35.6625258, lng: 139.7028806 };
			const map = new google.maps.Map(document.getElementById('googlemap'), {
				name: 'lopan',
				center: latlng,
				zoom: 18,
				disableDefaultUI: true, // デフォルトの UI を非表示にする
				zoomControl: true // ズームコントロールだけ表示する
			});
		</figure>
		<a href="https://developers.google.com/maps/documentation/javascript/reference/map#Map" class="c-button">Mapクラスについて<br>詳しくはこちらを参照のこと</a>
		
		<section class="api_section l-section">
			<h3 class="c-title -hyphen -s">マーカーを追加する</h3>
			<p class="c-lead">上のマップの座標に、オリジナルの<b>マーカー</b>を設置したところ。</p>
			<div class="p-map js-gm" data-gm="35.6625258,139.7028806,18,Lopan.jp" data-marker></div>
			<p>マーカーを設置するには<strong>google.maps.Markerクラス</strong>を使う。オプションの<code>icon</code>がなければデフォルトのマーカーが表示される。</p>
			<figure class="c-syntax" data-lang="js">
				const marker = new google.maps.Marker({
					position: latlng,
					title: 'Lopan.jp',
					icon: {
						url: 'marker.svg',
						scaledSize: new google.maps.Size(60,70)
					},
					map: map
				});
				/* マーカーをクリックしたら中央に戻る処理 */
				marker.addListener('click', () => {
					map.panTo(latlng);
				});
			</figure>
			<a href="https://developers.google.com/maps/documentation/javascript/reference/marker#Marker" class="c-button">Markerクラスについて<br>詳しくはこちらを参照のこと</a>
		</section>
		
		<section class="api_section l-section">
			<h3 class="c-title -hyphen -s">地図のスタイルを変える</h3>
			<p class="c-lead">マップの見た目をグレーに変更したところ。</p>
			<div class="p-map js-gm" data-gm="35.6625258,139.7028806,18,Lopan.jp" data-marker data-mono></div>
			<p>マップのスタイルを変更するには<strong>google.maps.StyledMapTypeクラス</strong>を使う。</p>
			<figure class="c-syntax" data-lang="js">
				const styles  = [{
					"stylers": [{
						"saturation": -100 // 彩度を無にする
					}]
				}];
				const monoType = new google.maps.StyledMapType(styles, { name: 'MonoMap' });
				map.mapTypes.set('mono', monoType);
				map.setMapTypeId('mono');
			</figure>
			<p class="c-lead u-mt4"><code>styles</code>の値を調整してもう少しカスタマイズ。</p>
			<p>文字情報を非表示にすることもできる<small>（ここではズームコントロールも表示していない）</small>。</p>
			<div class="p-map js-gm" data-gm="35.6625258,139.7028806,18,Lopan.jp" data-marker data-simple></div>
			<figure class="c-syntax" data-lang="js">
				const styles  = [{
					"elementType": "geometry",
					"stylers": [{
						"saturation": -50 // ジオメトリ (地形描画) の彩度を淡くする
					}, {
						"visibility": "simplified" // ジオメトリの表示をシンプル設定する
					}]
				},{
					"elementType": "labels",
					"stylers": [{
						"visibility": "off" // ラベル (文字情報) を非表示にする
					}]
				}];
				const simpleType = new google.maps.StyledMapType(styles, { name: 'SimpleMap' });
				map.mapTypes.set('simple', simpleType);
				map.setMapTypeId('simple');
			</figure>
			<a href="https://developers.google.com/maps/documentation/javascript/reference/image-overlay#StyledMapType" class="c-button">StyledMapTypeクラスについて<br>詳しくはこちらを参照のこと</a>
		</section>
	</section>
</main>

<footer class="l-footer">
	<div class="contentsinfo">
		<h1 class="logo"><a href="https://lopan.cafe/component/">
			<svg width="40" height="37" viewBox="0 0 40 37" class="pan"><use href="#panchan"/></svg>
			<span class="madeby">Made by Lopan.jp</span>
		</a></h1>
		<ul class="menu -nav">
			<li><a href="../../about/">About</a></li>
			<li><a href="../../news/">News</a></li>
			<li><a href="../">Works</a></li>
			<li><a href="../../company/">Company</a></li>
			<li><a href="../../contact/">Contact</a></li>
		</ul>
		<ul class="menu -other">
			<li><a href="../../privacypolicy/">プライバシーポリシー</a></li>
		</ul>
		<ul class="menu -sns">
			<li><a href="https://www.instagram.com/lopan.jp/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#instagram"/></svg></a></li>
			<li><a href="https://twitter.com/_watercolor" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#twitter"/></svg></a></li>
			<li><a href="https://line.me/ja/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#line"/></svg></a></li>
			<li><a href="https://ja-jp.facebook.com/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#facebook"/></svg></a></li>
			<li><a href="https://www.youtube.com/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#youtube"/></svg></a></li>
			<li><a href="https://www.tiktok.com/ja-JP/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#tiktok"/></svg></a></li>
			<li><a href="https://www.spotify.com/jp/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#spotify"/></svg></a></li>
		</ul>
		<p class="address">〒150-0068<br>Lopan café <wbr>Lopan-tori 6-8-10<br>Shibuya-ku Shibuya <wbr>Tokyo</p>
		<a href="#top" class="pagetop js-anc"><svg width="24" height="24" viewBox="0 0 24 24" preserveAspectRatio="none" class="ico"><path d="M2,18L12,6l10,12" vector-effect="non-scaling-stroke"/></svg></a>
	</div>
	<p class="copyright"><small>© 2006 Lopan.jp</small></p>
</footer>

<svg class="u-visuallyhidden">
<symbol id="panchan" fill="none"><g stroke-width="0.9"><path d="M11.812,16.727A2.736,2.736,0,0,0,10.745,21.5"/><path d="M14.41,16.963c-2.364,1.069-2.461,3.882-.375,4.924"/><path d="M16.958,16.991c-2,1.09-2,3.9.229,4.533"/><path d="M15.242,31.485a13,13,0,0,1-1.58,1.244,11.759,11.759,0,0,1-1.385-1.468"/></g><g stroke-width="1.6"><path d="M7.362,24.651c-.785,0-.82,1.3-.009,1.3C8.084,25.946,8.105,24.651,7.362,24.651Z"/><path d="M19.759,24.781c-.857-.019-.867,1.375-.009,1.394A.7.7,0,0,0,19.759,24.781Z"/></g><g stroke-width="1.2"><path d="M9.018,14.374C9.627,9.719,7.838,4.529,2.349.746-.7,9.074.207,14.869,5.313,19.025"/><path d="M23.6,18.577c-2.08,6.649-.916,13.019,5.5,15.613,2.318-6.822,1.137-13.058-4.087-18.288C18.268,9.143,5.3,12.276,4.631,22.869,3.962,33.439,16.12,35.346,24.349,30.8"/><path d="M26.22,16.783c6.287-2.347,13.18,2.065,13.18,10.11,0,7.656-7.42,8.6-9.813,6.271"/><path d="M30.4,27.894A4.643,4.643,0,0,1,34.14,26.1"/><path d="M7.883,31.148C5.25,32.1,5.343,35.6,9.078,36c2.33.25,3.657-1.135,3.116-3.062"/><path d="M18.156,33c-.733,1.94.548,3.573,3.347,3.2,2.829-.38,3.709-2.882,2.038-4.7"/></g></symbol>
</svg>
</body>
</html>