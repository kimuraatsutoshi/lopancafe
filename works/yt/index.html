<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>YouTube - Works - Lopan café</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="YouTube 埋め込みプレーヤーの再生/一時停止を操作する。「Lopan café」はWebサイトでよく使うパターンを集めたコンポーネントとメモとスタイルガイド。">
<meta property="og:site_name" content="Lopan café">
<meta property="og:type" content="website">
<meta property="og:title" content="YouTube">
<meta property="og:description" content="YouTube 埋め込みプレーヤーの再生/一時停止を操作する。">
<meta property="og:url" content="https://lopan.cafe/works/yt/">
<meta property="og:image" content="https://lopan.cafe/works/yt/ogp.jpg">
<meta property="fb:app_id" content="491752650877826">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@_watercolor">
<meta name="theme-color" content="#86c0de">
<meta name="msapplication-navbutton-color" content="#86c0de">
<link rel="icon" href="../../assets/icon.png">
<link rel="apple-touch-icon" href="../../assets/apple-touch-icon.png">
<link rel="stylesheet" href="../../assets/css/common.css">
<link rel="stylesheet" href="../../assets/css/article.css">
<link rel="stylesheet" href="../../assets/css/component.css">
<script src="../../assets/js/script.js" type="module" crossorigin="anonymous" defer></script>
</head>
<body>
<header class="l-header">
	<h1 class="logo"><a href="https://lopan.cafe/"><svg width="40" height="37" viewBox="0 0 40 37" class="pan" fill="none"><title>Lopan.jp</title><use href="#panchan"/></svg></a></h1>
	<ul class="menu -nav">
		<li><a href="../../about/">About</a></li>
		<li><a href="../../news/">News</a></li>
		<li><a href="../">Works</a></li>
		<li><a href="../../company/">Company</a></li>
		<li><a href="../../contact/">Contact</a></li>
	</ul>
	<ul class="menu -sns">
		<li><a href="https://www.instagram.com/lopan.jp/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#instagram"/></svg></a></li>
		<li><a href="https://twitter.com/_watercolor" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#twitter"/></svg></a></li>
		<li><a href="https://github.com/kimuraatsutoshi/lopancafe" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#github"/></svg></a></li>
	</ul>
</header>

<button type="button" class="l-drawer js-menuToggle"><svg width="32" height="5" viewBox="0 0 32 5" class="bar -b1"><path d="M0,2.5H32"/></svg><svg width="32" height="5" viewBox="0 0 32 5" class="bar -b2"><path d="M0,2.5H32"/></svg><svg width="32" height="5" viewBox="0 0 32 5" class="bar -b3"><path d="M0,2.5H32"/></svg></button>
<nav class="l-menu"></nav>

<main class="l-main page-works">
	<div class="p-visual">
		<h1 class="c-title">Works</h1>
		<figure class="bg"><img src="../../assets/img/works.webp" alt="" width="1200" height="630"></figure>
	</div>
	<div class="c-crumb">
		<a href="../../">Home</a>
		<a href="../">Works</a>
		<a href="./" aria-current="page">YouTube</a>
	</div>
	
	<section id="yt" class="p-yt l-section">
		<h2 class="c-title -bar">YouTube</h2>
		<p>クラス<code>c-video</code>を付与した要素<small>（ここではfigure要素）</small>の中に、のちにiframe要素となる<b>空のdiv要素</b>を包括した<code>.wrap</code>要素と、停止中の<b>サムネイル画像</b>を包括した<code>.poster</code>要素を入れる。空のdiv要素には動画メディアのサイズを記述し、<b>data-ytid属性</b>にYouTubeの<strong>動画ID</strong>を指定。<br>
		さらに空のdiv要素にクラス<code>js-yt</code>を付与し、<code>.poster</code>要素にはクラス<code>js-ytControl</code>を付与。互いに<b>data-playero属性</b>で「ユニークな同じ値<small>（ここでは<code>samplePlayer</code>）</small>」を指定し紐付ける。</p>
		<figure class="c-video">
			<div class="wrap">
				<div class="js-yt" width="640" height="360" data-player="samplePlayer" data-ytid="D2uoNuTqvfc"></div>
			</div>
			<div class="poster js-ytControl" data-player="samplePlayer">
				<img src="img/poster.webp" alt="" width="1200" height="675" loading="lazy">
				<span class="play">再生する</span>
			</div>
		</figure>
		<figure class="c-syntax" data-lang="html">
			&lt;figure class="c-video"&gt;
				&lt;div class="wrap"&gt;
					&lt;div class="js-yt" width="640" height="360" data-player="samplePlayer" data-ytid="D2uoNuTqvfc"&gt;&lt;/div&gt;
				&lt;/div&gt;
				&lt;div class="poster js-ytControl" data-player="samplePlayer"&gt;
					&lt;img src="img/poster.webp" alt="" width="640" height="360" loading="lazy"&gt;
					&lt;span class="play"&gt;再生する&lt;/span&gt;
				&lt;/div&gt;
			&lt;/figure&gt;
		</figure>
		<section class="l-section -column">
			<h3 class="c-title -hyphen -s">オプション</h3>
			<p>YouTube Player APIの<a href="https://developers.google.com/youtube/player_parameters?hl=ja" class="c-textlink">プレーヤーのパラメータ</a>を、<b>data-vars属性</b>に指定することで対応している。<br>
			主なパラメータは以下の通り。</p>
			<dl class="c-datalist">
				<dt><code>controls</code></dt>
				<dd>動画プレーヤーのコントロールを表示するかどうか。デフォルトは<code>1</code>でコントロールを表示する。</dd>
				<dt><code>modestbranding</code></dt>
				<dd>動画プレーヤーに、<b>YouTubeのロゴ</b>を表示させないかどうか。デフォルトは<code>0</code>でロゴが表示される</dd>
				<dt><code>playsinline</code></dt>
				<dd>動画をインライン<small>（その要素内）</small>で再生するかどうか。デフォルトは<code>0</code>で全画面で再生される。<br>
				（※おそらく全画面で再生されるのはiPhoneのみだと思われる。）</dd>
				<dt><code>rel</code></dt>
				<dd>動画の再生が終了した時に表示される「関連動画」および、停止中に表示される「その他の動画」が、同じチャンネルから選択されるかどうか<small>（ミックスリストは除く）</small>。デフォルトは<code>0</code>で他チャンネルの動画も含まれる。</dd>
				<dt><code>autoplay</code></dt>
				<dd>プレーヤーを読み込んだときに最初の動画を自動再生するかどうか。デフォルトは<code>0</code>で自動再生しない。</dd>
				<dt><code>loop</code></dt>
				<dd>動画をループ再生するかどうか。デフォルトは<code>0</code>でループ再生しない。</dd>
				<dt><code>playlist</code></dt>
				<dd>動画IDを<em>カンマ区切りのリスト形式</em>で指定すると、data-ytid属性で指定した動画の次に、順に再生される。</dd>
			</dl>
			<p>ただし、パラメータのうち、<code>controls=0</code>、<code>modestbranding=1</code>、<code>playsinline=1</code>、<code>rel=0</code>は指定済みなので、例えば、<em>YouTubeのコントロールを表示させたい</em>場合は、data-vars属性に<code>controls=1</code>を指定すること。</p>
		</section>
		<section class="l-section -column">
			<h3 class="c-title -hyphen -s">仕組み</h3>
			<p><code>.js-yt</code>を付与した空div要素と、<code>.js-ytControl</code>を付与したなんらかの要素が、<b>data-player属性</b>で紐付いていれば機能するので、例えば<span class="c-textlink js-ytControl" data-player="columnPlayer" aria-label="動画の再生/停止切り替え">ここをクリック</span>しても再生/停止できる。</p>
			<div class="js-yt" width="640" height="360" data-player="columnPlayer" data-ytid="H2PyYFi7UX0" data-vars="controls=1&loop=1&playsinline=0&playlist=H2PyYFi7UX0,Ltw1dKg5d2Q,x8-oqyN-0uM"></div>
			<figure class="c-syntax -wrap" data-lang="html">
				&lt;p&gt;&lt;code&gt;.js-yt&lt;/code&gt;を付与した空div要素と、&lt;code&gt;.js-ytControl&lt;/code&gt;を付与したなんらかの要素が、&lt;b&gt;data-player属性&lt;/b&gt;で紐付いていれば機能するので、例えば&lt;span class="c-textlink js-ytControl" data-player="columnPlayer" aria-label="動画の再生/停止切り替え"&gt;ここをクリック&lt;/span&gt;しても再生/停止できる。&lt;br&gt;
				また、video要素に&lt;strong&gt;controls属性&lt;/strong&gt;を指定すればブラウザ依存の&lt;b&gt;動画UI&lt;/b&gt;が表示される。&lt;/p&gt;
				&lt;div class="js-yt" width="640" height="360" data-player="columnPlayer" data-ytid="H2PyYFi7UX0" data-vars="controls=1&loop=1&playsinline=0&playlist=H2PyYFi7UX0,Ltw1dKg5d2Q,x8-oqyN-0uM"&gt;&lt;/div&gt;
			</figure>
		</section>
		<section class="l-section -column">
			<h3 class="c-title -hyphen -s">動画だけ設置したい</h3>
			<p>ただYouTube動画を埋め込みたいだけならば、公式の「共有」の「埋め込む」からiframe要素をコピペするとよい。<br>
			適宜<b>src属性</b>のURLに、パラメーター<small>（<code>?controls=0&modestbranding=1&playsinline=1&rel=0</code>）</small>を付け加えると、下のサンプルと同じ条件で設置できる。<br>
			ビューポートの幅が狭いときに動画の高さが伸縮しないのが気になる場合は、iframe要素に、スタイル<code>aspect-ratio:16/9;</code>と<code>height:auto;</code>を指定するとよい<small>（※ただし<code>aspect-ratio</code>はその動画のアスペクト比に準ずる）</small>。</p>
			<iframe width="560" height="315" src="https://www.youtube.com/embed/8xc20yXXRCI?controls=0&modestbranding=1&playsinline=1&rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
			<figure class="c-syntax -wrap" data-lang="html">
				&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/8xc20yXXRCI?controls=0&modestbranding=1&playsinline=1&rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;
			</figure>
			<p>どうしてもJavaScriptを介して設置したい場合は、空div要素を設置すれば、同じように設置できる。<br>
			※再生/停止ボタンがなくても<b>data-player属性</b>に<em>ユニークな値</em>は必要なので注意。</p>
			<div class="js-yt" width="640" height="360" data-player="columnPlayer2" data-ytid="8xc20yXXRCI"></div>
			<figure class="c-syntax -wrap" data-lang="html">
				&lt;div class="js-yt" width="640" height="360" data-player="columnPlayer2" data-ytid="8xc20yXXRCI"&gt;&lt;/div&gt;
			</figure>
		</section>
	</section>
</main>

<footer class="l-footer">
	<div class="contentsinfo">
		<h1 class="logo"><a href="https://lopan.cafe/">
			<svg width="40" height="37" viewBox="0 0 40 37" class="pan"><use href="#panchan"/></svg>
			<span class="madeby">Lopan café</span>
		</a></h1>
		<ul class="menu -nav">
			<li><a href="../../about/">About</a></li>
			<li><a href="../../news/">News</a></li>
			<li><a href="../">Works</a></li>
			<li><a href="../../company/">Company</a></li>
			<li><a href="../../contact/">Contact</a></li>
		</ul>
		<ul class="menu -other">
			<li><a href="../../privacypolicy/">プライバシーポリシー</a></li>
		</ul>
		<ul class="menu -sns">
			<li><a href="https://www.instagram.com/lopan.jp/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#instagram"/></svg></a></li>
			<li><a href="https://twitter.com/_watercolor" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#twitter"/></svg></a></li>
			<li><a href="https://line.me/ja/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#line"/></svg></a></li>
			<li><a href="https://ja-jp.facebook.com/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#facebook"/></svg></a></li>
			<li><a href="https://www.youtube.com/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#youtube"/></svg></a></li>
			<li><a href="https://www.tiktok.com/ja-JP/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#tiktok"/></svg></a></li>
			<li><a href="https://www.spotify.com/jp/" rel="noopener" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="ico"><use href="../../assets/img/ico.svg#spotify"/></svg></a></li>
		</ul>
		<p class="address">〒150-0068<br>Lopan café <wbr>Lopan-tori 6-8-10<br>Shibuya-ku Shibuya <wbr>Tokyo</p>
		<a href="#top" class="pagetop js-anc"><svg width="24" height="24" viewBox="0 0 24 24" preserveAspectRatio="none" class="ico"><path d="M2,18L12,6l10,12" vector-effect="non-scaling-stroke"/></svg></a>
	</div>
	<p class="copyright"><small>© 2022 Lopan café</small></p>
</footer>

<svg class="u-visuallyhidden">
<symbol id="panchan" fill="none"><g stroke-width="0.9"><path d="M11.812,16.727A2.736,2.736,0,0,0,10.745,21.5"/><path d="M14.41,16.963c-2.364,1.069-2.461,3.882-.375,4.924"/><path d="M16.958,16.991c-2,1.09-2,3.9.229,4.533"/><path d="M15.242,31.485a13,13,0,0,1-1.58,1.244,11.759,11.759,0,0,1-1.385-1.468"/></g><g stroke-width="1.6"><path d="M7.362,24.651c-.785,0-.82,1.3-.009,1.3C8.084,25.946,8.105,24.651,7.362,24.651Z"/><path d="M19.759,24.781c-.857-.019-.867,1.375-.009,1.394A.7.7,0,0,0,19.759,24.781Z"/></g><g stroke-width="1.2"><path d="M9.018,14.374C9.627,9.719,7.838,4.529,2.349.746-.7,9.074.207,14.869,5.313,19.025"/><path d="M23.6,18.577c-2.08,6.649-.916,13.019,5.5,15.613,2.318-6.822,1.137-13.058-4.087-18.288C18.268,9.143,5.3,12.276,4.631,22.869,3.962,33.439,16.12,35.346,24.349,30.8"/><path d="M26.22,16.783c6.287-2.347,13.18,2.065,13.18,10.11,0,7.656-7.42,8.6-9.813,6.271"/><path d="M30.4,27.894A4.643,4.643,0,0,1,34.14,26.1"/><path d="M7.883,31.148C5.25,32.1,5.343,35.6,9.078,36c2.33.25,3.657-1.135,3.116-3.062"/><path d="M18.156,33c-.733,1.94.548,3.573,3.347,3.2,2.829-.38,3.709-2.882,2.038-4.7"/></g></symbol>
</svg>
</body>
</html>